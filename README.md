# HH Playwright Agent

Интерактивный Python-агент для работы с hh.ru через Playwright: поиск вакансий, открытие карточек и подготовка сопроводительного письма под текущую вакансию (с кэшем и перегенерацией).

> Важно: отправка отклика — действие, влияющее на внешний мир. По умолчанию проект запускается в безопасном режиме (без авто-отправки).

## Возможности

- Поиск вакансий на hh.ru по текстовому запросу (страницы next/prev)
- Открытие вакансий по номеру из списка
- Отклик на вакансию:
  - вставка сопроводительного письма
  - опциональная отправка (submit on/off)
- Сопроводительные письма:
  - генерация под открытую вакансию
  - кэширование по URL вакансии
  - команда `letter new` для перегенерации под текущую вакансию
- Опциональная генерация письма через Ollama (локально); есть fallback-шаблон

## Требования

- Python 3.10+
- Playwright
- Установленные браузеры Playwright
- (Опционально) Ollama, если хотите генерацию письма локальной LLM

## Установка
bash
git clone <ваш_репозиторий>
cd hh-playwright-agent

python -m venv .venv
▎Windows:

.venv\Scripts\activate
▎macOS/Linux:

source .venv/bin/activate

pip install -r requirements.txt
python -m playwright install

## Настройка (опционально: Ollama)

Скопируйте пример переменных окружения:

bash
cp .env.example .env

И при необходимости отредактируйте значения.

Если Ollama недоступна — скрипт автоматически использует шаблонное письмо.

## Запуск

bash
python agent.py

Далее введите задачу в `AI>` (обычный текст), затем используйте команды `hh>`.

## Команды

- `list` — показать текущий список вакансий
- `next` / `prev` — перейти по страницам выдачи
- `open N` — открыть вакансию N
- `letter` — показать письмо для текущей открытой вакансии (создаст, если нет)
- `letter new` — запросить новое письмо для текущей вакансии (перегенерация)
- `letter clear` — удалить письмо из кэша для текущей страницы
- `apply N` — открыть вакансию N, вставить письмо (и отправить, если включён submit)
- `submit on|off` — включить/выключить авто-отправку
- `ai` — новый поисковый запрос
- `exit` — выход

## Безопасность

- По умолчанию `submit off`: агент не отправляет отклики автоматически.
- Включайте `submit on` только когда готовы реально отправлять отклики.

## Дисклеймер

Этот проект не является официальным инструментом hh.ru. Используйте аккуратно и соблюдайте правила сайта и законодательства.
